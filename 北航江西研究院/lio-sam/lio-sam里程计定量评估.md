### lio-sam问题描述以及解决

1. 官方数据集的IMU旋转了九十度，而我们的IMU是正放的，因此需要将旋转矩阵相乘这一步骤取消。
2. 小车自带的IMU只有陀螺仪的三轴IMU（非九轴），没有加速度，因此造成雷达数据与IMU不匹配，建图大幅度错误漂移，因此改用ZED2携带的IMU。
3. ZED2携带的IMU存在加速度及角度的偏差，建图小幅度缓慢漂移，因此在代码中补偿固定的值。
4. 由于小车未带有GPS，需要将参数useImuHeadingInitialization设置为false。
5. voxel filter的参数调整为室内参数。

# lio-sam里程计定量评估

## 评估方法

小车绕行回到原点后，计算lio-sam里程计当前读数与初始原点之间的平移误差。

## 实验结果

#### 平移误差

实验序号|场地|速度(m/s)|里程计|Tx|Ty|Tz|平移总误差（欧氏距离，单位：m）|
-|-|-|-|-|-|-|-|
1|研究院内|0.2|初始读数|0.00|0.00|0.01||
1|研究院内|0.2|lio-sam|0.00|-0.01|0.01|0.01|
2|研究院内|0.2|初始读数|-0.01|0.00|0.00||
2|研究院内|0.2|lio-sam|-0.03|-0.05|0.05|0.07|
3|研究院内|0.2|初始读数|0.00|0.00|0.00||
3|研究院内|0.2|lio-sam|-0.01|-0.01|-0.03|0.03|

可以看到，lio-sam在室内的里程计闭合结果比较优秀，误差都在厘米级。

```
链接：https://pan.baidu.com/s/1ua4khs3kZUTniVY18p0sVg 
提取码：bhjx 
```

#### 室内建图，Z轴无明显问题

```
链接：https://pan.baidu.com/s/1e89djz5hnbFcRzqSA8pjRw 
提取码：bhjx
```

#### 角度误差——四元数（论文中未使用）

实验序号|场地|速度(m/s)|里程计|Qx|Qy|Qz|Qw|
-|-|-|-|-|-|-|-|
1|研究院内|0.2|初始读数|-0.01|0.02|0.00|1.00|
1|研究院内|0.2|lio-sam|-0.01|0.02|0.00|1.00|
2|研究院内|0.2|初始读数|-0.01|0.02|0.00|1.00|
2|研究院内|0.2|lio-sam|0.00|0.02|0.02|1.00|
3|研究院内|0.2|初始读数|-0.01|0.02|0.00|1.00|
3|研究院内|0.2|lio-sam|0.00|0.02|-0.03|1.00|